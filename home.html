<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Ecommerce</title>

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family: Arial, sans-serif;
}


nav{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:15px 40px;
  border-bottom:1px solid #ddd;
}

nav ul{
  list-style:none;
  display:flex;
  gap:25px;
}

nav ul li a{
  text-decoration:none;
  color:#888;
  font-weight:500;
}

nav ul li a.active{
  color:#000;
  font-weight:600;
}

.nav-actions a{
  border:1px solid #000;
  padding:6px 12px;
  margin-left:10px;
  text-decoration:none;
  color:#000;
  border-radius:6px;
  font-size:14px;
  display:inline-flex;
  align-items:center;
  gap:6px;
}

.nav-actions svg{
  width:16px;
  height:16px;
}


.hero{
  height:420px;
  background-image:url("./images/main.png.jpg");
  background-size:cover;
  background-position:center;
  display:flex;
  align-items:center;
  padding-left:60px;
  color:white;
}

.hero-content h1{
  font-size:36px;
  margin-bottom:12px;
  white-space:nowrap;
}

.hero-content p{
  white-space:nowrap;
  font-size:15px;
}


.products{
  padding:40px;
  text-align:center;
}

.filters button{
  padding:8px 15px;
  margin:5px;
  cursor:pointer;
}

.product-container{
  display:grid;
  grid-template-columns:repeat(4,1fr);
  gap:20px;
  margin-top:30px;
}

.product-card{
  border:1px solid #ddd;
  padding:15px;
}

.product-card img{
  width:100%;
  height:180px;
  object-fit:contain;
}

.product-card h4{
  margin:10px 0;
  font-size:16px;
}

.product-card p{
  font-size:14px;
  color:#555;
}

.product-card span{
  display:block;
  margin:10px 0;
  font-weight:bold;
}

.product-card button{
  padding:6px 10px;
  margin:5px;
  cursor:pointer;
}


footer{
  margin-top:40px;
  padding:20px;
  border-top:1px solid #ddd;
  text-align:center;
}
</style>
</head>

<body>

<!-- Global navbar applied -->

<nav>
  <h2>Ecommerce</h2>

  <ul>
    <li><a href="home.html" class="active">Home</a></li>
    <li><a href="products.html">Products</a></li>
    <li><a href="about.html">About</a></li>
    <li><a href="contact.html">Contact</a></li>
  </ul>

  <div class="nav-actions">
    <a href="login.html">
      <svg viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2">
        <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/>
        <polyline points="10 17 15 12 10 7"/>
        <line x1="15" y1="12" x2="3" y2="12"/>
      </svg>
      Login
    </a>

    <a href="register.html">
      <svg viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2">
        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
        <circle cx="12" cy="7" r="4"/>
      </svg>
      Register
    </a>

    <a href="cart.html">
      <svg viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2">
        <circle cx="9" cy="21" r="1"/>
        <circle cx="20" cy="21" r="1"/>
        <path d="M1 1h4l2.7 13.4a2 2 0 0 0 2 1.6h9.7a2 2 0 0 0 2-1.6L23 6H6"/>
      </svg>
      Cart (<span id="cartCount">0</span>)
    </a>
  </div>
</nav>

<!-- Home page banner section -->

<section class="hero">
  <div class="hero-content">
    <h1>New Season Arrivals</h1>
    <p>This is a wider card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
  </div>
</section>

/* Product card layout styling */

<section class="products">
  <h2>Latest Products</h2>

  <div class="filters">
    <button onclick="filterProducts('all')">All</button>
    <button onclick="filterProducts(`men's clothing`)">Men's Clothing</button>
    <button onclick="filterProducts(`women's clothing`)">Women's Clothing</button>
    <button onclick="filterProducts('jewelery')">Jewelry</button>
    <button onclick="filterProducts('electronics')">Electronics</button>
  </div>

  <div class="product-container" id="productContainer"></div>
</section>

<footer>
  Made with ❤️ by SATYABRATA PATI
</footer>

<script>
let allProducts = [];
const container = document.getElementById("productContainer");
const cartCount = document.getElementById("cartCount");


function updateCartCount(){
  const cart = JSON.parse(localStorage.getItem("cart")) || [];
  cartCount.innerText = cart.length;
}
updateCartCount();

// Fetch products from FakeStore API

fetch("https://fakestoreapi.com/products")
  .then(res => res.json())
  .then(data => {
    allProducts = data;
    displayProducts(allProducts);
  });

function displayProducts(products){
  container.innerHTML = "";
  products.forEach(product => {
    const div = document.createElement("div");
    div.className = "product-card";
    div.innerHTML = `
      <img src="${product.image}">
      <h4>${product.title}</h4>
      <p>${product.description.substring(0,60)}...</p>
      <span>$${product.price}</span>
      <button onclick="viewDetails(${product.id})">Details</button>
      <button onclick="addToCart(${product.id})">Add to Cart</button>
    `;
    container.appendChild(div);
  });
}

function filterProducts(category){
  if(category==="all") displayProducts(allProducts);
  else displayProducts(allProducts.filter(p=>p.category===category));
}

function viewDetails(id){
  window.location.href="product.html?id="+id;
}


function addToCart(id){
  const product = allProducts.find(p=>p.id===id);
  let cart = JSON.parse(localStorage.getItem("cart")) || [];

  const found = cart.find(p=>p.id===id);
  if(found){
    found.qty++;
  } else {
    cart.push({
      id:product.id,
      title:product.title,
      price:product.price,
      image:product.image,
      qty:1
    });
  }

  localStorage.setItem("cart",JSON.stringify(cart));
  updateCartCount();
}
</script>

</body>
</html>
