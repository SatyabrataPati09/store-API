<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Cart | Ecommerce</title>

<style>
*{
  margin:0;
  padding:0;
  box-sizing:border-box;
  font-family: Arial, sans-serif;
}


nav{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:15px 40px;
  border-bottom:1px solid #ddd;
}

nav ul{
  list-style:none;
  display:flex;
  gap:25px;
}

nav ul li a{
  text-decoration:none;
  color:#888;
  font-weight:500;
}

nav ul li a.active{
  color:#000;
  font-weight:600;
}

.nav-actions a{
  border:1px solid #000;
  padding:6px 12px;
  margin-left:10px;
  text-decoration:none;
  color:#000;
  border-radius:6px;
  font-size:14px;
  display:inline-flex;
  align-items:center;
  gap:6px;
}

.nav-actions svg{
  width:16px;
  height:16px;
}


.cart{
  padding:40px;
}

.cart h1{
  text-align:center;
  margin-bottom:10px;
}

.cart hr{
  margin:20px 0;
}

.cart-container{
  display:flex;
  gap:30px;
}

.items{
  flex:3;
  border:1px solid #ddd;
  border-radius:6px;
}

.items h3{
  padding:15px;
  border-bottom:1px solid #ddd;
}

.item{
  display:flex;
  align-items:center;
  gap:20px;
  padding:15px;
  border-bottom:1px solid #eee;
}

.item img{
  width:80px;
  height:80px;
  object-fit:contain;
}

.qty{
  margin-left:auto;
  display:flex;
  align-items:center;
  gap:10px;
}

.qty button{
  padding:4px 10px;
  cursor:pointer;
}

.summary{
  flex:1;
  border:1px solid #ddd;
  border-radius:6px;
  padding:20px;
  height:fit-content;
}

.summary div{
  display:flex;
  justify-content:space-between;
  margin:10px 0;
}

.empty{
  text-align:center;
  padding:60px;
  background:#f8f8f8;
}

.empty button{
  margin-top:20px;
  padding:8px 20px;
  cursor:pointer;
}


footer{
  margin-top:60px;
  padding:20px;
  border-top:1px solid #ddd;
  text-align:center;
}
.checkout-btn{
  width:100%;
  margin-top:15px;
  padding:12px;
  background:#222;
  color:#fff;
  border:none;
  border-radius:6px;
  font-size:15px;
  cursor:pointer;
}

</style>
</head>

<body>


  <nav>
  <h2>Ecommerce</h2>

  <ul>
    <li><a href="home.html">Home</a></li>
    <li><a href="products.html">Products</a></li>
    <li><a href="about.html">About</a></li>
    <li><a href="contact.html">Contact</a></li>
  </ul>

  <div class="nav-actions">

    <a href="login.html">
      <svg viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2">
        <path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4"/>
        <polyline points="10 17 15 12 10 7"/>
        <line x1="15" y1="12" x2="3" y2="12"/>
      </svg>
      Login
    </a>

    <a href="register.html">
      <svg viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2">
        <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
        <circle cx="12" cy="7" r="4"/>
      </svg>
      Register
    </a>

    <a href="cart.html" class="active">
      <svg viewBox="0 0 24 24" fill="none" stroke="black" stroke-width="2">
        <circle cx="9" cy="21" r="1"/>
        <circle cx="20" cy="21" r="1"/>
        <path d="M1 1h4l2.7 13.4a2 2 0 0 0 2 1.6h9.7a2 2 0 0 0 2-1.6L23 6H6"/>
      </svg>
      Cart (<span id="cartCount">0</span>)
    </a>

  </div>
</nav>

<section class="cart">
  <h1>Cart</h1>
  <hr>
  <div id="cartContent"></div>
</section>

<footer>
  Made with ❤️ by SATYABRATA PATI
</footer>

<script>
let cart = JSON.parse(localStorage.getItem("cart")) || [];
const cartContent = document.getElementById("cartContent");
const cartCount = document.getElementById("cartCount");

function updateCart(){


  cartCount.innerText = cart.length;

  if(cart.length === 0){
    cartContent.innerHTML = `
      <div class="empty">
        <h2>Your Cart is Empty</h2>
        <button onclick="location.href='home.html'">← Continue Shopping</button>
      </div>
    `;
    return;
  }

  let total = 0;

  cartContent.innerHTML = `
    <div class="cart-container">
      <div class="items">
        <h3>Item List</h3>
        ${cart.map(item=>{
          total += item.price * item.qty;
          return `
            <div class="item">
              <img src="${item.image}">
              <div>
                <b>${item.title}</b><br>
                ${item.qty} x $${item.price}
              </div>
              <div class="qty">
                <button onclick="changeQty(${item.id},-1)">−</button>
                ${item.qty}
                <button onclick="changeQty(${item.id},1)">+</button>
              </div>
            </div>
          `;
        }).join("")}
      </div>

      <div class="summary">
        <h3>Order Summary</h3>
        <div>
          <span>Products (${cart.length})</span>
          <span>$${total.toFixed(2)}</span>
        </div>
        <div><span>Shipping</span><span>$30</span></div>
        <hr>
        <div><b>Total amount</b><b>$${(total+30).toFixed(2)}</b></div>

<button class="checkout-btn">
  Go to checkout
</button>

      </div>
    </div>
  `;
}

function changeQty(id,delta){
  cart = cart
    .map(item=>{
      if(item.id === id) item.qty += delta;
      return item;
    })
    .filter(item=>item.qty > 0);

  localStorage.setItem("cart",JSON.stringify(cart));
  updateCart();
}

updateCart();
</script>

</body>
</html>
